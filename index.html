<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>澳大利亚材料报价计算器</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
        }
        header, footer {
            background-color: #f4f4f4;
            padding: 1rem;
            text-align: center;
        }
        main {
            max-width: 600px;
            margin: 2rem auto;
        }
        form {
            display: flex;
            flex-direction: column;
        }
        label, input, select, button {
            margin-bottom: 1rem;
        }
        input, select {
            padding: 0.5rem;
        }
        button {
            background-color: #333;
            color: #fff;
            border: none;
            padding: 0.5rem;
            cursor: pointer;
        }
        button:hover {
            background-color: #555;
        }
        #result {
            margin-top: 2rem;
            padding: 1rem;
            background-color: #f4f4f4;
        }
    </style>
</head>
<body>
    <header>
        <h1>澳大利亚材料报价计算器</h1>
    </header>
    
    <main>
        <form id="quote-form">
            <label for="material">选择材料：</label>
            <select id="material" name="material" required>
                <option value="">请选择材料</option>
            </select>

            <label for="state">选择州：</label>
            <select id="state" name="state" required>
                <option value="">请选择州</option>
            </select>

            <label for="density">密度 (kg/m³)：</label>
            <input type="number" id="density" name="density" readonly>

            <label for="price">单价 (元/kg)：</label>
            <input type="number" id="price" name="price" readonly>

            <label for="length">长度 (m)：</label>
            <input type="number" id="length" name="length" step="0.0001" required>

            <label for="width">宽度 (m)：</label>
            <input type="number" id="width" name="width" step="0.0001" required>

            <label for="height">高度 (m)：</label>
            <input type="number" id="height" name="height" step="0.0001" required>

            <label for="quantity">数量：</label>
            <input type="number" id="quantity" name="quantity" required>

            <button type="submit">计算报价</button>
        </form>
        
        <div id="result">
            <!-- 这里显示计算结果 -->
        </div>
    </main>
    
    <footer>
        <p>&copy; 2024 澳大利亚材料报价计算器. 保留所有权利。</p>
    </footer>

    <script>
    console.log("Script is running");

    // 材料数据
    const materials = {
        steel: { name: "钢", density: 7850, price: 5 },
        stainlessSteel: { name: "不锈钢", density: 7900, price: 20 },
        aluminum: { name: "铝", density: 2700, price: 15 },
        copper: { name: "铜", density: 8960, price: 50 },
        brass: { name: "黄铜", density: 8500, price: 40 },
        plastic: { name: "塑料(PVC)", density: 1400, price: 10 },
        wood: { name: "木材(橡木)", density: 750, price: 8 },
        concrete: { name: "混凝土", density: 2400, price: 1 },
        glass: { name: "玻璃", density: 2500, price: 15 }
    };

    // 澳大利亚供应商数据
    const suppliers = {
        steel: {
            NSW: ["BlueScope Steel", "OneSteel"],
            VIC: ["Liberty OneSteel", "Australian Steel Company"],
            QLD: ["Steelforce", "ShapeCUT"],
            WA: ["Midalia Steel", "InfraBuild"],
            SA: ["Axiom Steel", "Steel Supplies"],
            TAS: ["TasSteel", "Metalco Tasmania"],
            NT: ["NT Steel Supplies", "Top End Steel"],
            ACT: ["Capital Steel", "ACT Steel Suppliers"]
        },
        // 为其他材料添加类似的供应商信息
    };

    // 当页面加载时初始化材料选择和州选择
    document.addEventListener('DOMContentLoaded', function() {
        console.log("DOM Content Loaded");
        const materialSelect = document.getElementById('material');
        for (let key in materials) {
            let option = document.createElement('option');
            option.value = key;
            option.textContent = materials[key].name;
            materialSelect.appendChild(option);
        }

        const stateSelect = document.getElementById('state');
        const states = ["NSW", "VIC", "QLD", "WA", "SA", "TAS", "NT", "ACT"];
        states.forEach(state => {
            let option = document.createElement('option');
            option.value = state;
            option.textContent = state;
            stateSelect.appendChild(option);
        });
    });

    // 当选择材料时更新密度和单价
    document.getElementById('material').addEventListener('change', function() {
        const material = materials[this.value];
        if (material) {
            document.getElementById('density').value = material.density;
            document.getElementById('price').value = material.price;
        } else {
            document.getElementById('density').value = '';
            document.getElementById('price').value = '';
        }
    });

    // 处理表单提交
    document.getElementById('quote-form').addEventListener('submit', function(e) {
        e.preventDefault();

        const material = document.getElementById('material').value;
        const state = document.getElementById('state').value;
        const density = parseFloat(document.getElementById('density').value);
        const price = parseFloat(document.getElementById('price').value);
        const length = parseFloat(document.getElementById('length').value);
        const width = parseFloat(document.getElementById('width').value);
        const height = parseFloat(document.getElementById('height').value);
        const quantity = parseInt(document.getElementById('quantity').value);

        if (material && state && density && price && length && width && height && quantity) {
            const volume = length * width * height;
            const weight = volume * density;
            const totalPrice = weight * price * quantity / 1000000; // 转换为立方米和吨

            let supplierInfo = '';
            if (suppliers[material] && suppliers[material][state]) {
                supplierInfo = `<p>推荐供应商：${suppliers[material][state].join(', ')}</p>`;
            }

            document.getElementById('result').innerHTML = `
                <h2>报价结果</h2>
                <p>材料：${materials[material].name}</p>
                <p>州：${state}</p>
                <p>体积：${volume.toFixed(4)} m³</p>
                <p>重量：${(weight / 1000).toFixed(2)} kg</p>
                <p>总价：${totalPrice.toFixed(2)} 元</p>
                ${supplierInfo}
            `;
        } else {
            document.getElementById('result').innerHTML = '<p>请填写所有字段</p>';
        }
    });
    </script>
</body>
</html>
